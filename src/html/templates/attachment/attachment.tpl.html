<div id="attachmentCapture">
	<spinner id="spinnerAttachmentImage" label="{{ 'reimbursement.loading.label' | translate }}"></spinner>

	<div ng-show="hasAttachment" class="displayAttachment">
		<i class="fa fa-file-pdf-o"></i>
		<a target="_blank" ng-href="{{ blob.url }}" download="{{ blob.name }}">{{ 'reimbursement.captureAttachment.downloadAttachment' | translate }}</a>

		<a href class="deleteAttachment" ng-click="deleteAttachment()" ng-if="editable">
			<i class="fa fa-times-circle"></i>
		</a>
	</div>

	<div ng-if="!hasAttachment && editable">
		<div class="text-center">
			<button class="btn btn-default" ng-click="showQR()">
				<i class="fa fa-tablet fa-lg"></i>
				{{ 'reimbursement.captureAttachment.tryMobile' | translate }}
			</button>
			<span class="orText">{{ 'reimbursement.captureAttachment.or' | translate }}</span>
		</div>

		<div id="attachmentCaptureImage">

			<div flow-init="{target: postAttachmentPath, testChunks: false, singleFile: true, simultaneousUploads: 1, chunkSize: maxUploadSize}"
				flow-name="flow.image" flow-files-submitted="$flow.upload()"
				flow-upload-started="showSpinner('spinnerAttachmentImage')" flow-file-success="onAttachmentUploadSuccess()"
				flow-file-error="onAttachmentUploadError()">

				<div class="image-upload">
					<div flow-drop flow-btn flow-attrs="{accept:['image/*','application/pdf']}" ng-class="dropClass" flow-drag-enter="dropClass='dragOver'" flow-drag-leave="dropClass=''">
						<div class="center uploadButton">
							<i class="fa fa-plus-circle"></i> {{ 'reimbursement.captureAttachment.upload.centerText' | translate }}
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>